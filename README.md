# 경기도 내 초중고등학교 급식정보 제공 및 리뷰게시판

Neis의 오픈API를 활용하여
경기도 내 학교들의 급식 정보를 제공하고
해당 급식에 대한 리뷰 게시판 제작

-----
### 사용 기술 스택
- Java (JDK 17)
- SpringBoot 3.3
- MariaDB
- JPA

### 사용 오픈 API
- 학교기본정보 https://open.neis.go.kr/hub/schoolInfo
- 급식식단정보 https://open.neis.go.kr/hub/mealServiceDietInfo

## ERD
![SchoolMealERD2](https://github.com/user-attachments/assets/83bca116-47d7-4ed2-bcce-6274677e8344)

  
## 프로젝트 기능 및 설계 

### 1. 회원가입/수정/탈퇴 & 로그인

- [회원가입]
  - 핸드폰 번호
    - 동일인의 중복 회원가입 불가
  - 이메일
    - 로그인에 사용됨
  - 비밀번호
    - 암호화
  - 닉네임
    - 중복 확인
  - 학교 코드
    - 학교코드를 모른다면 학교명 입력 후 학교코드 반환받은 후 작성
    
- [회원정보 수정]
  - 비밀번호 입력으로 본인 확인 후 수정 가능
  - 학교코드 수정
  - 비밀번호 수정
    
- [회원 탈퇴]
  - 비밀번호 입력으로 본인 확인 후 탈퇴 가능
    
- [로그인]
  - 이메일 &  비밀번호 입력

-----

### 2. 급식 정보 확인
   
- [급식정보 저장]
  - API로부터 현재로부터 6개월 전부터의 내용을 받아 데이터베이스에 저장
  - 주기적으로 싱크(매일 오전 10시) 받도록 함
    - Spring Scheduler 사용
  - 매월 1일마다, 7개월이 지난 데이터는 삭제됨
    - Spring Scheduler 사용
    
- [급식정보 반환] 
  - 학교코드와 특정날짜 입력 후 급식 정보 반환
    - 동일한 이름의 다른 학교들이 존재할 수 있기 때문에 학교코드로 검색
      - 학교코드를 모른다면 학교명 입력 후 학교코드 반환받은 후 이용 가능

- [급식 평균별점 반환]
  - 학교코드와 특정날짜 입력후 학생들의 평균 별점을 계산하여 반환

-----

### 3. 급식 리뷰 게시판
로그인된 이용자만 사용 가능

- [게시글]
  - 작성
    - 날짜, 제목, 100자평, 별점, 사진
  - 수정/삭제
    - 해당 글 작성자만 가능
  - 조회
    - 날짜, 작성자 닉네임, 제목, 100자평, 별점, 사진
    - 페이징 처리
    - 최신순 정렬
    
- [댓글]
  - 작성
    - 해당 게시물 작성자와 같은 학교 학생일 때만 작성 가능
  - 수정/삭제
    - 해당 댓글 작성자만 가능
  - 조회
    - 댓글 작성자 닉네임, 댓글 내용 표시
    - 오름차순/공감순 정렬 기능
  - 공감
    - 같은 댓글에 대한 중복 공감 불가 == 두 번 공감시 공감취소
    - 같은 학교 학생만 공감 가능

-----

### 4. 불건전한 글/댓글을 작성한 사용자 신고처리 기능
- 하루에 서로 다른 10명에게 신고를 당할 시 이용정지
- 이용정지 일주일 후 자동으로 정지해제
- 신고자는 신고이유 작성
- 하루에 동일인에 대한 중복 신고 불가

